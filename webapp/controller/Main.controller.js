sap.ui.define([
	"sap/ui/core/mvc/Controller",
	"sap/m/MessageBox",
	"sap/m/MessageToast"
], function (Controller, MessageBox, MessageToast) {
	"use strict";
	return Controller.extend("UI.FioriModule.controller.Main", {
		onInit: function () {
			this._setIceCreamModel();
			
			 /*Total -Summary*/
             var oVizFrame = this.getView().byId("idVizFrame2");
          var oModel = new sap.ui.model.json.JSONModel();
		var data = {
				'Count' : [
		            {"Status": "Total","Value": "1234"},
		            {"Status": "Inbound","Value": "9127"},
		           
		             {"Status": "Outbound","Value": "15957"},
		             
		           ]};
		oModel.setData(data);
		
		var oDataset = new sap.viz.ui5.data.FlattenedDataset({
			dimensions : [{
				name : 'Status',
				value : "{Status}"}],
			               
			measures : [{
				name : 'Count',
				value : '{Value}'} ],
			             
			data : {
				path : "/Count"
			}
		});		
		oVizFrame.setDataset(oDataset);
		oVizFrame.setModel(oModel);	
		oVizFrame.setVizType('bar');
		
		
		oVizFrame.setVizProperties({
		
            plotArea: {
            //	colorPalette : d3.scale.category20().range
            dataLabel: {
                            visible: "true"
                        }
                     
                }});
		
		var feedValueAxis = new sap.viz.ui5.controls.common.feeds.FeedItem({
		      'uid': "valueAxis",
		      'type': "Measure",
		      'values': ["Count"],
		      'label':"true"
		    }), 
		    feedCategoryAxis = new sap.viz.ui5.controls.common.feeds.FeedItem({
		      'uid': "categoryAxis",
		      'type': "Dimension",
		      'values': ["Status"]
		    });
		oVizFrame.addFeed(feedValueAxis);
		oVizFrame.addFeed(feedCategoryAxis);
		
		
		// column
			/*inbound*/
		
		  var   oVizFrame = this.getView().byId("idVizFrame3");
          var oModel = new sap.ui.model.json.JSONModel();
		var data = {
				'Count' : [
		             {"Status": "Inbound","Value": "9127"},
		            {"Status": "IDoc 53","Value": "8998"},
		            {"Status": "IDoc 64","Value": "3"},
		            {"Status": "IDoc 51","Value": "90"},
		             
		           ]};
		oModel.setData(data);
		
		var oDataset = new sap.viz.ui5.data.FlattenedDataset({
			dimensions : [{
				name : 'Status',
				value : "{Status}"}],
			               
			measures : [{
				name : 'Count',
				value : '{Value}'} ],
			             
			data : {
				path : "/Count"
			}
		});		
		oVizFrame.setDataset(oDataset);
		oVizFrame.setModel(oModel);	
		oVizFrame.setVizType('column');
		
		
		oVizFrame.setVizProperties({
		
            plotArea: {
            //	colorPalette : d3.scale.category20().range
            dataLabel: {
                            visible: "true"
                        }
                     
                }});
		
		var feedValueAxis = new sap.viz.ui5.controls.common.feeds.FeedItem({
		      'uid': "valueAxis",
		      'type': "Measure",
		      'values': ["Count"],
		      'label':"true"
		    }), 
		    feedCategoryAxis = new sap.viz.ui5.controls.common.feeds.FeedItem({
		      'uid': "categoryAxis",
		      'type': "Dimension",
		      'values': ["Status"]
		    });
		oVizFrame.addFeed(feedValueAxis);
		oVizFrame.addFeed(feedCategoryAxis);
		
		},
		onLoginPress: function () {
			var oMail = this.getView().byId("mail").getValue();
			var oPwd = this.getView().byId("pwd").getValue();
			if (oMail === oPwd) {
				MessageBox.success("Your are logged in.");
			} else {
				MessageBox.error("Please verfiy. Username Password combination is incorrect.");
			}
		},
		onSignupPress: function () {
			MessageToast.show("Thanks for Signing up.");
		},
		onAdd:function(){
			var Add1= 1;
			var Add2=2;
		},
		/**
		 *@memberOf UI.FioriModule.controller.Main
		 */
		resetPassword: function (oEvent) {
			//This code was generated by the layout editor.
			MessageToast.show("Your Password has been reset. Please Check your registered Email id");
		},
		_setIceCreamModel:function(){

			var aData = {
					Items : [  
						{
							Flavor:"Blue Moon",
							Sales : 700
						},
						{
							Flavor:"Matcha Green Tea",
							Sales : 1100
						},
						{
							Flavor:"ButterScotch",
							Sales : 1400
						},
						{
							Flavor:"Black Current",
							Sales : 560
						}
						]
			};
			var oIceCreamModel = new sap.ui.model.json.JSONModel();
			oIceCreamModel.setData(aData);
			this.getView().byId("chartContainer").setModel(oIceCreamModel, "IceCreamModel");
}
	});
});